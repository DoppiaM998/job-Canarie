const translations = {
  it: {
    register_title: "Registrazione Candidato",
    register_subtitle: "Inserisci i tuoi dati e genera il tuo CV PDF",
    email_label: "Email:",
    phone_label: "Telefono:",
    sector_preference_label: "Settore di Interesse:",
    continue_btn: "Continua alla Ricerca",
    search_title: "Ricerca Offerte di Lavoro",
    country_label: "Scegli il Paese:",
    sector_label: "Scegli il Settore:",
    zone_label: "Scegli la Zona:",
    search_btn: "Cerca",
    results_title: "Risultati della Ricerca",
    job_portals: "Portali di Lavoro Consigliati",
    apply_here: "Candidati qui",
    cleaning_sector: "Pulizie e Igienizzazione",
    upload_cv_title: "Invio CV Ridotto",
    name_label: "Nome:",
    experience_label: "Esperienze Lavorative Rilevanti:",
    sector_search_label: "Settore cercato:",
    submit_btn: "Genera CV e Procedi",
    legal_title: "INFORMATIVA LEGALE E CONDIZIONI DEL SERVIZIO",
    legal_content: `CONTRATTO DI MEDIAZIONE E CAUZIONE:
    Il presente servizio di ricerca e selezione è gratuito per la consultazione. 
    Tuttavia, per procedere con l'assunzione e la firma del contratto fisico, è necessario recarsi presso la nostra sede:
    Indirizzo: Avenida de la Unión 32, Vecindario, Gran Canaria.

    CAUZIONE E RIMBORSO:
    - Il candidato dovrà versare una cauzione prestabilita di €300.
    - Tale cauzione sarà interamente rimborsata non appena verrà confermata la presenza del lavoratore sul luogo di lavoro.
    - La conferma avviene tramite verifica diretta dell'azienda ospitante e invio di una foto del lavoratore presso la sede lavorativa.
    
    PENALI:
    In caso di mancata presentazione o abbandono ingiustificato prima dell'inizio del rapporto, la cauzione non sarà restituita.`,
    legal_step_title: "Conferma Informative Legali",
    legal_step_text: "Per completare la candidatura, devi leggere e accettare le condizioni contrattuali e la gestione della cauzione.",
    accept_btn: "Accetto e Confermo Candidatura",
    final_instruction: "Ottimo! Il tuo CV è stato generato. Ora devi recarti in Avenida de la Unión 32 (Vecindario) per la firma del contratto fisico e il versamento della cauzione di €300 (rimborsabile).",
    download_cv_btn: "Scarica il tuo CV PDF",
    success_title: "Candidatura Inviata"
  },
  en: {
    login_title: "Access reserved for collaborators",
    password_placeholder: "Enter password:",
    enter_btn: "Enter",
    register_title: "Candidate Registration",
    register_subtitle: "Enter your details and generate your PDF CV",
    email_label: "Email:",
    phone_label: "Phone:",
    sector_preference_label: "Preferred Sector:",
    continue_btn: "Continue to Search",
    search_title: "Job Search",
    country_label: "Choose Country:",
    sector_label: "Choose Sector:",
    zone_label: "Choose Zone:",
    search_btn: "Search",
    results_title: "Search Results",
    job_portals: "Recommended Job Portals",
    apply_here: "Apply here",
    cleaning_sector: "Cleaning and Sanitization",
    upload_cv_title: "Submit Short CV",
    name_label: "Name:",
    experience_label: "Relevant Work Experience:",
    sector_search_label: "Sector you're looking for:",
    submit_btn: "Generate CV and Proceed",
    legal_title: "LEGAL NOTICE AND TERMS OF SERVICE",
    legal_content: `MEDIATION CONTRACT AND DEPOSIT:
    This search and selection service is free for consultation.
    However, to proceed with the hiring and the physical contract signature, you must visit our office:
    Address: Avenida de la Unión 32, Vecindario, Gran Canaria.

    DEPOSIT AND REFUND:
    - The candidate must pay a pre-established deposit of €300.
    - This deposit will be fully refunded as soon as the worker's presence at the workplace is confirmed.
    - Confirmation is done through direct verification by the host company and by sending a photo of the worker at the workplace.
    
    PENALTIES:
    In case of no-show or unjustified abandonment before the start of the relationship, the deposit will not be refunded.`,
    legal_step_title: "Confirm Legal Information",
    legal_step_text: "To complete your application, you must read and accept the contractual conditions and the deposit management.",
    accept_btn: "I Accept and Confirm Application",
    final_instruction: "Great! Your CV has been generated. Now you must go to Avenida de la Unión 32 (Vecindario) to sign the physical contract and pay the €300 deposit (refundable).",
    download_cv_btn: "Download your PDF CV",
    success_title: "Application Submitted"
  },
  es: {
    login_title: "Acceso reservado para colaboradores",
    password_placeholder: "Ingrese contraseña:",
    enter_btn: "Entrar",
    register_title: "Registro de Candidato",
    register_subtitle: "Introduce tus datos y genera tu CV en PDF",
    email_label: "Correo Electrónico:",
    phone_label: "Teléfono:",
    sector_preference_label: "Sector Preferido:",
    continue_btn: "Continuar a la Búsqueda",
    search_title: "Búsqueda de Empleo",
    country_label: "Elige País:",
    sector_label: "Elige Sector:",
    zone_label: "Elige Zona:",
    search_btn: "Buscar",
    results_title: "Resultados de Búsqueda",
    job_portals: "Portales de Trabajo Recomendados",
    apply_here: "Solicitar aquí",
    cleaning_sector: "Limpieza e Higienización",
    upload_cv_title: "Enviar CV Resumido",
    name_label: "Nombre:",
    experience_label: "Experiencia Laboral Relevante:",
    sector_search_label: "Sector que buscas:",
    submit_btn: "Generar CV y Continuar",
    legal_title: "AVISO LEGAL Y CONDICIONES DEL SERVIZIO",
    legal_content: `CONTRATO DE MEDIACIÓN Y FIANZA:
    Este servicio de búsqueda y selección es gratuito para consulta.
    Sin embargo, para proceder con la contratación y la firma del contrato físico, es necesario acudir a nuestra oficina:
    Dirección: Avenida de la Unión 32, Vecindario, Gran Canaria.

    FIANZA Y REEMBOLSO:
    - El candidato deberá abonar una fianza preestablecida de 300€.
    - Dicha fianza será reembolsada íntegramente en cuanto se confirme la presencia del trabajador en el lugar de trabajo.
    - La confirmación se realiza mediante verificación directa de la empresa de acogida y envío de una foto del trabajador en el lugar de trabajo.
    
    PENALIZACIONES:
    En caso de no presentación o abandono injustificado antes del inicio de la relación, la fianza no será devuelta.`,
    legal_step_title: "Confirmar Información Legal",
    legal_step_text: "Para completar tu solicitud, debes leer y aceptar las condiciones contractuales y la gestión de la fianza.",
    accept_btn: "Acepto y Confirmo Solicitud",
    final_instruction: "¡Genial! Tu CV ha sido generado. Ahora debes acudir a Avenida de la Unión 32 (Vecindario) para la firma del contrato físico y el pago de la fianza de 300€ (reembolsable).",
    download_cv_btn: "Descargar tu CV en PDF",
    success_title: "Solicitud Enviada"
  },
  de: {
    login_title: "Zugang für Mitarbeiter reserviert",
    password_placeholder: "Passwort eingeben:",
    enter_btn: "Anmelden",
    register_title: "Kandidatenregistrierung",
    register_subtitle: "Geben Sie Ihre Daten ein und erstellen Sie Ihren PDF-Lebenslauf",
    email_label: "E-Mail:",
    phone_label: "Telefon:",
    sector_preference_label: "Bevorzugter Sektor:",
    continue_btn: "Weiter zur Suche",
    search_title: "Jobsuche",
    country_label: "Land wählen:",
    sector_label: "Sektor wählen:",
    zone_label: "Zone wählen:",
    search_btn: "Suchen",
    results_title: "Suchergebnisse",
    job_portals: "Empfohlene Jobportale",
    apply_here: "Hier bewerben",
    submit_btn: "Lebenslauf erstellen und fortfahren",
    legal_title: "RECHTLICHER HINWEIS UND NUTZUNGSBEDINGUNGEN",
    legal_content: `VERMITTLUNGSVERTRAG UND KAUTION:
    Dieser Such- und Auswahldienst ist zur Beratung kostenlos.
    Um jedoch mit der Einstellung und der Unterzeichnung des physischen Vertrags fortzufahren, müssen Sie unser Büro besuchen:
    Adresse: Avenida de la Unión 32, Vecindario, Gran Canaria.

    KAUTION UND RÜCKERSTATTUNG:
    - Der Kandidat muss eine vorher festgelegte Kaution von 300 € hinterlegen.
    - Diese Kaution wird vollständig zurückerstattet, sobald die Anwesenheit des Arbeitnehmers am Arbeitsplatz bestätigt wurde.
    - Die Bestätigung erfolgt durch direkte Verifizierung durch das gastgebende Unternehmen und durch Senden eines Fotos des Arbeitnehmers am Arbeitsplatz.
    
    STRAFEN:
    Im Falle eines Nichterscheinens oder einer ungerechtfertigten Aufgabe vor Beginn des Verhältnisses wird die Kaution nicht zurückerstattet.`,
    legal_step_title: "Rechtliche Informationen bestätigen",
    legal_step_text: "Um Ihre Bewerbung abzuschließen, müssen Sie die Vertragsbedingungen und die Kautionsverwaltung lesen und akzeptieren.",
    accept_btn: "Ich akzeptiere und bestätige die Bewerbung",
    final_instruction: "Super! Ihr Lebenslauf wurde erstellt. Jetzt müssen Sie zur Avenida de la Unión 32 (Vecindario) gehen, um den physischen Vertrag zu unterzeichnen und die Kaution von 300 € (rückzahlbar) zu hinterlegen.",
    download_cv_btn: "Laden Sie Ihren PDF-Lebenslauf herunter",
    success_title: "Bewerbung eingereicht"
  },
  no: {
    login_title: "Tilgang reservert for samarbeidspartnere",
    password_placeholder: "Skriv inn passord:",
    enter_btn: "Logg inn",
    register_title: "Kandidatregistrering",
    register_subtitle: "Skriv inn detaljene dine og generer din PDF-CV",
    email_label: "E-post:",
    phone_label: "Telefon:",
    sector_preference_label: "Foretrukket sektor:",
    continue_btn: "Fortsett til søk",
    search_title: "Jobbsøk",
    country_label: "Velg land:",
    sector_label: "Velg sektor:",
    zone_label: "Velg sone:",
    search_btn: "Søk",
    results_title: "Søkeresultater",
    job_portals: "Anbefalte jobbportaler",
    apply_here: "Søk her",
    submit_btn: "Generer CV og fortsett",
    legal_title: "JURIDISK MERKNAD OG VILKÅR FOR BRUK",
    legal_content: `MEGLINGSKONTRAKT OG DEPOSITUM:
    Denne søke- og utvelgelsestjenesten er gratis for konsultasjon.
    For å gå videre med ansettelsen og den fysiske kontraktssigneringen, må du imidlertid besøke vårt kontor:
    Adresse: Avenida de la Unión 32, Vecindario, Gran Canaria.

    DEPOSITUM OG REFUSJON:
    - Kandidaten må betale et forhåndsfastsatt depositum på 300 €.
    - Dette depositumet vil bli fullt refundert så snart arbeidstakerens tilstedeværelse på arbeidsplassen er bekreftet.
    - Bekreftelse skjer gjennom direkte verifisering av vertsselskapet og ved å sende et bilde av arbeidstakeren på arbeidsplassen.
    
    STRAFF:
    Ved manglende oppmøte eller uberettiget forlatelse før forholdet starter, vil depositumet ikke bli refundert.`,
    legal_step_title: "Bekreft juridisk informasjon",
    legal_step_text: "For å fullføre søknaden din, må du lese og godta kontraktsvilkårene og depositumshåndteringen.",
    accept_btn: "Jeg godtar og bekrefter søknaden",
    final_instruction: "Flott! Din CV er generert. Nå må du reise til Avenida de la Unión 32 (Vecindario) for å signere den fysiske kontrakten og betale depositumet på 300 € (refunderbart).",
    download_cv_btn: "Last ned din PDF-CV",
    success_title: "Søknad sendt"
  }
};

function loadLanguage(lang) {
  document.querySelectorAll('[data-i18n]').forEach(element => {
    const key = element.getAttribute('data-i18n');
    if (translations[lang] && translations[lang][key]) {
      element.textContent = translations[lang][key];
    }
  });
  
  // Salva la lingua selezionata
  localStorage.setItem("lang", lang);
}

// Funzione per cambiare lingua
function changeLanguage(lang) {
  loadLanguage(lang);
  updateActiveLangButton(lang);
}

function updateActiveLangButton(lang) {
  document.querySelectorAll('.lang-btn').forEach(btn => {
    btn.classList.remove('active');
  });
  document.querySelector(`[data-lang="${lang}"]`)?.classList.add('active');
}
